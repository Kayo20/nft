# Environment Variables for TreeFi (Netlify Functions + client)

# -----------------------------
# Supabase Configuration (Required)
# - `SUPABASE_URL` and `SUPABASE_SERVICE_ROLE_KEY` are used by Netlify functions
# - `SUPABASE_ANON_KEY` may be used by client code (do NOT use service role key in the browser)
SUPABASE_URL=https://your-project.supabase.co
SUPABASE_SERVICE_ROLE_KEY=your-service-role-key
SUPABASE_ANON_KEY=your-anon-key

# -----------------------------
# JWT Session Secret (Required for production)
# Generate a strong secret (Node):
#   node -e "console.log(require('crypto').randomBytes(32).toString('base64'))"
# Or with OpenSSL: `openssl rand -base64 32`
JWT_SECRET=your-jwt-secret-key

# -----------------------------
# BNB Chain / Web3 Configuration (Optional)
# Use a reliable RPC provider (Alchemy, QuickNode, Infura, or bsc-rpc provider)
BNB_RPC_URL=https://bsc-dataseed.bnbchain.org
ALCHEMY_KEY=your-alchemy-api-key

# -----------------------------
# Application Domain (Required for CORS / SIWE domain)
# - During local development with Vite the default origin is `http://localhost:5173`.
# - When deployed, set this to your production domain (https://app.example.com).
APP_DOMAIN=http://localhost:5173

# -----------------------------
# Node Environment
NODE_ENV=development

# -----------------------------
# Optional: Rate Limiting with Upstash Redis
# UPSTASH_REDIS_REST_URL=https://your-upstash-redis-url
# UPSTASH_REDIS_REST_TOKEN=your-redis-token

# -----------------------------
# Database Connection (Optional, for pg-based transactions)
# DATABASE_URL=postgresql://user:password@host:port/dbname

# Optional: A short secret to protect gift codes CSV export endpoint
# Set a value and call the endpoint with header `x-admin-secret: <secret>` or set a valid logged-in session cookie
# GIFT_CODES_EXPORT_SECRET=your-export-secret

# Enforce Supabase usage in production for gift codes: set this to 'true' in Netlify site env
# REQUIRE_SUPABASE=true


# -----------------------------
# Pinata (IPFS) - used to pin metadata JSON
# Add these to your Netlify site as production env vars (do NOT commit real keys)
# PINATA_API_KEY=your-pinata-api-key
# PINATA_SECRET_API_KEY=your-pinata-secret-api-key

# -----------------------------
# NFT images
# The Supabase storage bucket that contains `manifest.json` (public) which lists IPFS image URLs per rarity
# NFT_IMAGES_BUCKET=nft-images

# -----------------------------
# Mint admin secret (optional)
# If set, requests with header `x-admin-secret: <secret>` can mint for arbitrary wallets (use carefully)
# MINT_ADMIN_SECRET=your-mint-admin-secret
